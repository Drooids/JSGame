!function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){var o=e[s][1][t];return i(o?o:t)},p,p.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,o){(function(e){"use strict";e.Constructor=t("./lib/Class/Constructor.js"),e.JSGameEngine=t("./lib/Class/JSGameEngine"),e.Math=t("./lib/Util/Math.js"),e.Component=t("./lib/Class/Component.js"),e.Time=t("./lib/Util/Time.js"),e.Physics2D=t("./lib/Components/Physics2D.js"),e.Vector2=t("./lib/Components/Vector2.js"),e.Transform=t("./lib/Components/Transform.js"),e.Shadow=t("./lib/Components/Shadow.js"),e.Input=t("./lib/Components/Input.js"),e.GameObject=t("./lib/Class/GameObject.js"),e.Color=t("./lib/Components/Color.js"),e.Text=t("./lib/GameObjects/Text.js"),e.Sprite=t("./lib/GameObjects/Sprite.js"),e.Particle=t("./lib/GameObjects/Particle.js"),e.ParticleSystem=t("./lib/GameObjects/ParticleSystem.js"),e.AudioClip=t("./lib/GameObjects/AudioClip.js"),e.Background=t("./lib/GameObjects/Background.js")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/Class/Component.js":2,"./lib/Class/Constructor.js":3,"./lib/Class/GameObject.js":4,"./lib/Class/JSGameEngine":5,"./lib/Components/Color.js":6,"./lib/Components/Input.js":7,"./lib/Components/Physics2D.js":8,"./lib/Components/Shadow.js":9,"./lib/Components/Transform.js":10,"./lib/Components/Vector2.js":11,"./lib/GameObjects/AudioClip.js":12,"./lib/GameObjects/Background.js":13,"./lib/GameObjects/Particle.js":14,"./lib/GameObjects/ParticleSystem.js":15,"./lib/GameObjects/Sprite.js":16,"./lib/GameObjects/Text.js":17,"./lib/Util/Math.js":18,"./lib/Util/Time.js":19}],2:[function(t,e,o){"use strict";function n(t){this.parent=void 0,this.__construct(this,t),this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)}}n.prototype.toString=function(){return JSON.stringify(this)},n.prototype=new Constructor,n.prototype.constructor=n,e.exports=n},{}],3:[function(t,e,o){"use strict";function n(t){t&&(delete this.createUUID,delete this.addComponent)}n.prototype.__extend=function(t,e,o){var n=new t(o||void 0);Object.keys(n).forEach(function(t){e[t]=n[t]})},n.prototype.__construct=function(t,e){if("undefined"!=typeof e){if("object"!=typeof e)throw TypeError("Options must be an Object literal");Object.keys(e).forEach(function(o){t[o]=e[o]})}},n.prototype.createUUID=function(t){function e(){return(65536*(1+Math.random()*(new Date).getTime())|0).toString(16).substring(1)}var t=t||"-";return e()+e()+t+e()+t+e()+t+e()+t+e()+e()+e()},n.prototype.addComponent=function(t,e){var e=e||this.createUUID();if(t.parent=this,this instanceof JSGameEngine){if(!(t instanceof GameObject))throw TypeError("Object not an instance of GameObject");if("undefined"!=typeof this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this)}else{if(!(t instanceof Component))throw TypeError("Object not an instance of Component");if("undefined"!=typeof this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this.parent)}return this.components[e]},e.exports=n},{}],4:[function(t,e,o){"use strict";function n(t){this.components=new Object,this.enabled=!0,this.width=0,this.height=0,this.visible=!0,this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)},this.__init=function(){},this.parent=void 0,this.transform=new Transform({parent:this}),this.__construct(this,t)}n.prototype=new Constructor,n.prototype.constructor=n,n.prototype.toString=function(){return JSON.stringify(this)},n.prototype.getComponent=function(t){for(var e in this)if(this[e]instanceof t)return this[e];for(var e in this.components)if(this.components[e]instanceof t)return this.components[e];return null},e.exports=n},{}],5:[function(t,e,o){"use strict";function n(t){var e=this;this.components={},this.canvas=document.createElement("canvas"),this.width=0,this.height=0,this.time=new Time,this.__construct(this,t),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.width||window.innerWidth,this.canvas.height=this.height||window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,Time=this.time,this.update=function(t){requestAnimationFrame(e.update),e.time.update(t);var o=e.canvas,n=e.ctx;n.clearRect(0,0,o.width,o.height);e.time;for(var i in e.components){var r=e.components[i];for(var s in r.components)r.components[s].parent||(r.components[s].parent=r);if(r.enabled&&r.visible){n.save();var a=r.transform.rotation,c=r.transform.position;n.translate(c.x+r.width/2,c.y+r.height/2),n.rotate(a*Math.PI/180),n.translate(Math.invert(c.x+r.width/2),Math.invert(c.y+r.height/2));for(var h in r.components)r.components[h].__update(e);r.__update(e),n.restore()}}},this.fixedUpdate=function(t){e.time.fixedUpdate(t);var o=e.time;for(var n in e.components){var i=e.components[n];for(var r in i.components)i.components[r].parent||(i.components[r].parent=i);if(i.enabled){for(var s in i.components)i.components[s].__update(e);i.__fixedUpdate(e)}}setTimeout(function(){e.fixedUpdate(performance.now)},1e3*o.framerateToTime(50))},requestAnimationFrame(this.update),this.fixedUpdate(performance.now)}n.prototype=new Constructor,n.prototype.constructor=n,e.exports=n},{}],6:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.alpha=1,this.r=0,this.g=0,this.b=0,this.clamp=function(){return new n({r:Math.round(Math.clamp(e.r,0,255)),g:Math.round(Math.clamp(e.g,0,255)),b:Math.round(Math.clamp(e.b,0,255)),alpha:Math.clamp(e.alpha,0,1)})},this.__construct(this,t),this.toString=function(){var t=new n(this).clamp();return"rgba("+t.r+","+t.g+","+t.b+","+t.alpha+")"}}n.prototype=new Component,n.prototype.constructor=n,n.prototype.invert=function(t){var e=this.alpha;return t&&(e=Math.flip(this.alpha,1)),new n({r:Math.flip(this.r,255),g:Math.flip(this.g,255),b:Math.flip(this.b,255),alpha:e})},n.prototype.red=function(){return new n({r:255,g:0,b:0})},n.prototype.green=function(){return new n({r:0,g:255,b:0})},n.prototype.blue=function(){return new n({r:0,g:0,b:255})},n.prototype.black=function(){return new n({r:0,g:0,b:0})},n.prototype.white=function(){return new n({r:255,g:255,b:255})},n.prototype.cyan=function(){return new n({r:0,g:255,b:255})},n.prototype.magenta=function(){return new n({r:255,g:0,b:255})},n.prototype.yellow=function(){return new n({r:255,g:255,b:0})},n.prototype.grey=function(){return new n({r:128,g:128,b:128})},n.prototype.add=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r+t.r,g:this.g+t.g,b:this.b+t.b});case"number":return new n({r:this.r+t,g:this.g+t,b:this.b+t});default:throw TypeError("Argument not a object or a number")}},n.prototype.multiply=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r*t.r,g:this.g*t.g,b:this.b*t.b});case"number":return new n({r:this.r*t,g:this.g*t,b:this.b*t});default:throw TypeError("Argument not a object or a number")}},n.prototype.divide=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r/t.r,g:this.g/t.g,b:this.b/t.b});case"number":return new n({r:this.r/t,g:this.g/t,b:this.b/t});default:throw TypeError("Argument not a object or a number")}},n.prototype.subtract=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r-t.r,g:this.g-t.g,b:this.b-t.b});case"number":return new n({r:this.r-t,g:this.g-t,b:this.b-t});default:throw TypeError("Argument not a object or a number")}},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Color");return this.r===t.r&&this.g===t.g&&this.b===t.b},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Color");if("number"!=typeof o)throw TypeError("Argument must be a number");return new n(e).subtract(t).multiply(o)},e.exports=n},{}],7:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.__construct(this,t),this.onKeyDown=function(){},this.onKeyUp=function(){},this.keys={},this.__init=function(t){document.addEventListener("keydown",function(t){e.keys[t.keyCode]=!0,e.onKeyDown(t.keyCode)},!1),document.addEventListener("keyup",function(t){e.keys[t.keyCode]=!1,e.onKeyUp(t.keyCode)},!1)}}n.prototype=new Component,n.prototype.constructor=n,n.prototype.keyShift=16,n.prototype.keyA=65,n.prototype.keyS=83,n.prototype.keyW=87,n.prototype.keyD=68,e.exports=n},{}],8:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.gravity=new Vector2({y:9.81,parent:this}),this.velocity=new Vector2({parent:this}),this.fixedUpdate=function(t){return e.addForce(e.gravity.multiply(10*t))},this.addForce=function(t){if(!(t instanceof Vector2))throw TypeError("Force must be an instance of Vector2");return e.velocity.add(t),e.velocity},this.__construct(this,t)}n.prototype=new Component,n.prototype.constructor=n,e.exports=n},{}],9:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.color=new Color,this.blur=10,this.__update=function(t){var o=t.ctx;o.shadowBlur=e.blur,o.shadowColor=e.color.toString()},this.__construct(this,t)}n.prototype=new Component,n.prototype.constructor=n,e.exports=n},{}],10:[function(t,e,o){"use strict";function n(t){this.rotation=0,this.__extend(Component,this,t),this.position=new Vector2({parent:this}),this.__construct(this,t),this.rotation=this.rotation%360}n.prototype=new Component,n.prototype.constructor=n,n.prototype.translate=function(t){if(!(t instanceof Vector2||t instanceof n))throw TypeError("Vector must be an instance of Vector2 or Transform");return t instanceof Vector2?(this.position.x+=t.x,this.position.y+=t.y,this.position):(this.position.x+=t.position.x,this.position.y+=t.position.y,this.rotation=(this.rotation+t.rotation)%360,void 0)},n.prototype.add=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.add(t.position),rotation:this.rotation+t.rotation})},n.prototype.multiply=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.multiply(t.position),rotation:this.rotation*t.rotation})},n.prototype.divide=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.divide(t.position),rotation:this.rotation/t.rotation})},n.prototype.subtract=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.subtract(t.position),rotation:this.rotation-t.rotation})},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Transform");return!(!this.position.equal(t.position)||this.rotation!==t.rotation)},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Transform");if("number"!=typeof o)throw TypeError("Argument must be a number");return new n(e).subtract(t).multiply(o)},e.exports=n},{}],11:[function(t,e,o){"use strict";function n(t){this.__extend(Component,this,t),this.x=0,this.y=0,this.__construct(this,t)}n.prototype=new Component,n.prototype.constructor=n,n.prototype.up=function(){return new n({x:0,y:-1})},n.prototype.left=function(){return new n({x:-1,y:0})},n.prototype.one=function(){return new n({x:1,y:1})},n.prototype.right=function(){return new n({x:1,y:0})},n.prototype.down=function(){return new n({x:0,y:1})},n.prototype.zero=function(){return new n({x:0,y:0})},n.prototype.add=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x+t.x,y:this.y+t.y});case"number":return new n({x:this.x+t,y:this.y+t});default:throw TypeError("Argument not a object or a number")}},n.prototype.multiply=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x*t.x,y:this.y*t.y});case"number":return new n({x:this.x*t,y:this.y*t});default:throw TypeError("Argument not a object or a number")}},n.prototype.divide=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x/t.x,y:this.y/t.y});case"number":return new n({x:this.x/t,y:this.y/t});default:throw TypeError("Argument not a object or a number")}},n.prototype.subtract=function(t){switch(typeof t){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x-t.x,y:this.y-t.y});case"number":return new n({x:this.x-t,y:this.y-t});default:throw TypeError("Argument not a object or a number")}},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Vector2");return this.x===t.r&&this.y===t.y},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Vector2");if("number"!=typeof o)throw TypeError("Argument must be a number");return o=Math.ceil(1e3*o)/1e3,new n(e).subtract(t).multiply(o)},e.exports=n},{}],12:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(GameObject,this,t),this.file="",this.volume=1,this.__construct(this,t),this.audio=new Audio(this.file),this.play=function(){e.enabled&&e.audio.play()},this.pause=function(){e.enabled&&e.audio.oause()},this.time=0,this.duration=0,this.__init=function(){e.duration=e.audio.duration,e.audio.load(),e.audio.fastSeek(0)},this.__update=function(t){e.audio.src!==e.file&&(e.audio.src=e.file),e.time=e.audio.currentTime,e.duration=e.audio.duration,e.onFixedUpdate(t)},this.__fixedUpdate=function(t){e.onFixedUpdate(t)},delete this.transform,delete this.components,delete this.width,delete this.height,delete this.visible}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],13:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(GameObject,this,t),this.color=new Color({r:0,g:0,b:0,alpha:0,parent:this}),this.image="",this.imageWidth=0,this.imageHeight=0,this.__construct(this,t);var o,n=document.createElement("img"),i=!1;this.__update=function(t){var r=t.ctx;e.image!==n.src&&(i=!1,o=void 0,n.onload=function(){e.imageWidth=n.width,e.imageHeight=n.height,i=!0},n.src=e.image),i?(void 0===o&&(o=r.createPattern(n,"repeat")),r.fillStyle=o):e.color.alpha>0&&(r.fillStyle=e.color.toString()),r.fillRect(Math.round(e.transform.position.x),Math.round(e.transform.position.y),Math.round(e.width),Math.round(e.height)),e.onUpdate(t)},this.__init=function(t){n.onload=function(){e.imageWidth=n.width,e.imageHeight=n.height,i=!0},n.src=e.image,e.width=e.width||t.width,e.height=e.height||t.height}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],14:[function(t,e,o){"use strict";function n(t){this.__extend(GameObject,this,t),this.speed=new Vector2,this.radius=1,this.life=1,this.remainingLife=1,this.color=new Color({r:255,g:255,b:255,alpha:1}),this.__construct(this,t),this.remainingLife=this.life}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],15:[function(t,e,o){"use strict";function n(t){function e(t){var e=new Particle({transform:new Transform(o.transform),speed:new Vector2({x:n.x+Math.random()*n.x,y:n.y+Math.random()*n.y}),radius:o.radius+Math.random()*o.radius,life:o.life+Math.random()*o.life,color:new Color({r:Math.round(Math.random()*o.color.r),g:Math.round(Math.random()*o.color.g),b:Math.round(Math.random()*o.color.b)}),parent:o});"undefined"!=typeof t?o.particles[t]=e:o.particles.push(e)}var o=this;this.__extend(GameObject,this,t),this.count=50,this.speed=new Vector2({x:2,y:2,parent:o}),this.color=new Color({r:255,g:255,b:255,parent:o}),this.loop=!1,this.blendMode="lighter",this.glow=!0,this.life=100,this.radius=10,this.radial=!0,this.particles=[];var n=new Vector2(this.speed),i=this.width,r=this.height;this.__construct(this,t),this.__update=function(t){if(o.radial?(n.x=Math.random()*(2*o.speed.x)-o.speed.x,n.y=Math.random()*(2*o.speed.y)-o.speed.y):(n.x=o.speed.x,n.y=o.speed.y),o.particles.length<o.count)for(var i=0;i<o.count-o.particles.length;i++)e();if(o.particles.length>o.count)for(var i=0;i<o.particles.length-o.count;i++)o.particles.pop();var r=t.ctx;o.blendMode&&(r.globalCompositeOperation=o.blendMode);for(var i=0;i<o.particles.length;i++){var s=o.particles[i];if(r.beginPath(),s.color.alpha=Math.round(s.remainingLife/s.life*o.count)/o.count,"number"!=typeof s.color.alpha||isNaN(s.color.alpha))e(i);else{var a=r.createRadialGradient(s.transform.position.x,s.transform.position.y,0,s.transform.position.x,s.transform.position.y,s.radius);a.addColorStop(0,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),a.addColorStop(.5,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),o.glow?a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", 0)"):a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),r.fillStyle=a,r.arc(Math.round(s.transform.position.x),Math.round(s.transform.position.y),Math.round(s.radius),2*Math.PI,!1),r.fill(),s.remainingLife--,s.radius--,s.transform.position=s.transform.position.add(s.speed),(s.remainingLife<0||s.radius<0)&&(o.loop?e(i):o.particles.splice(i,1))}}o.onUpdate(t)},this.__init=function(t){},this.__fixedUpdate=function(t){o.width!==i&&(o.radius=o.width/2,i=o.width),o.height!==r&&(o.radius=o.height/2,r=o.height),o.width=2*o.radius,o.height=2*o.radius,o.onFixedUpdate(t)}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],16:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(GameObject,this,t),this.__construct(this,t),this.__update=function(t){e.onUpdate(t)},this.__init=function(t){},this.__fixedUpdate=function(t){e.onFixedUpdate(t)}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],17:[function(t,e,o){"use strict";function n(t){function e(t){var e="",n="",i="";o.bold&&(e="bold "),o.italic&&(n="italic "),o.underline&&(i="underline "),t.fillStyle=o.color.toString(),t.font=e+n+Math.round(o.size)+"px "+o.font}var o=this;this.__extend(GameObject,this,t),this.color=new Color({parent:this}),this.text="",this.font="Helvetica",this.size=20,this.bold=!1,this.italic=!1,this.underline=!1,this.__construct(this,t),this.__update=function(t){var n=t.ctx;e(n),n.fillText(o.text,Math.round(o.transform.position.x),Math.round(o.transform.position.y)),o.onUpdate(t)},this.__init=function(t){o.transform.parent=o,o.transform.position.parent=o.transform,o.color.parent=o},this.__fixedUpdate=function(t){var n=t.ctx;e(n),o.height=o.size,o.width=Math.round(n.measureText(o.text).width),o.onFixedUpdate(t)}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],18:[function(t,e,o){"use strict";Math.flip=function(t,e){return"number"!=typeof t&&"number"!=typeof e?NaN:Math.abs(e-parseInt(t))},Math.randomRange=function(t,e,o){return"number"!=typeof t&&"number"!=typeof e?NaN:o===!0?Math.floor(Math.random()*(e-t)+t):Math.random()*(e-t)+t},Math.invert=function(t){return-1*t},Math.clamp=function(t,e,o){return Math.min(Math.max(t,e),o)},Math.lerp=function(t,e,o){return(e-t)*o},e.exports=Math},{}],19:[function(t,e,o){"use strict";function n(t){return this.__construct(t),this.startupTime=0,this.frameCount=0,this.deltaTime=0,this.fixedDeltaTime=0,this.smoothDeltaTime=0,this.smoothFixedDeltaTime=0,this.maximumDeltaTime=0,this.maximumFixedDeltaTime=0,this.time=this.startupTime,this.fixedTime=this.startupTime,this.lastUpdateTime=this.startupTime,this.lastFixedUpdateTime=this.startupTime,this.fps=0,this}n.prototype=new Constructor(!0),n.prototype.update=function(t){var e=this,t=t||0;t/=1e3,e.time=t,0===e.startupTime&&(e.startupTime=e.time,e.lastUpdateTime=e.startupTime),e.deltaTime=e.time-e.lastUpdateTime,e.deltaTime>e.maximumDeltaTime&&(e.maximumDeltaTime=e.deltaTime),e.smoothDeltaTime=parseFloat(e.deltaTime.toFixed(2)),e.lastUpdateTime=e.time,e.fps=(1/e.deltaTime).toFixed(1),e.frameCount++},n.prototype.fixedUpdate=function(t){var e=this,t=t||0;t/=1e3,e.fixedTime=t,0===e.startupTime&&(e.startupTime=e.fixedTime,e.lastFixedUpdateTime=e.startupTime),e.fixedDeltaTime=e.fixedTime-e.lastFixedUpdateTime,e.fixedDeltaTime>e.maximumFixedDeltaTime&&(e.maximumFixedDeltaTime=e.fixedDeltaTime),e.smoothFixedDeltaTime=parseFloat(e.fixedDeltaTime.toFixed(2)),e.lastFixedUpdateTime=e.fixedTime},n.prototype.framerateToTime=function(t){return 1/t},e.exports=n},{}]},{},[1]);
//# sourceMappingURL=jsgame.min.js.map